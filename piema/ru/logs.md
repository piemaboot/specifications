# Типы записей журнала формата Piema
Тип       | Данные                                    | Описание
--------- | ----------------------------------------- | -----------------------------------------
`end`     | —                                         | Конец записей журнала
`created` | UTF-8 строка (инициатор[^1]) + `\x00`     | Элемент (запись/группа/иконка) создан
`update`  | Полная копия данные элемента до изменения | Элемент (запись/группа/иконка) обновлена
`deleted` | UTF-8 строка (инициатор[^1]) + `\x00`     | Элемент (запись/группа/иконка) удалена
`copied`  | UUID копии                                | Элемент (запись/группа/иконка) скопирован
`getted`  | [Ниже](#данные-у-записи-типа-getted)      | Элемент (запись/группа/иконка) запрошен

## Данные у записи типа `getted`
![logs[getted] data structure](images/logs_getted.svg)

Первое поле - инициатор[^1] (`initiator`) - это UTF-8 строка, оканчивающаяся на `\0`. 

После идёт UUID запрошенного элемента, занимающее 16 байт.

Потом идут запрошенные атрибуты. Хранятся они [так же, как и у записи.](README.md#атрибуты)
> Такие поля как `name`, `comment`, `tags` и т.п. записываются как атрибуты со следующеми названиями:
> Название (байты) | Поле
> ---------------- | --------------
> `01 01`          | **template**
> `01 02`          | **name**      
> `01 03`          | **comment**   
> `01 04`          | **icon**      
> `01 05`          | **created**   
> `01 06`          | **modified**  
> `01 07`          | **expiry**    
> `01 08`          | **flags**     
> `01 09`          | **background**
> `01 0A`          | **foreground**
> `01 0B`          | **tags**      
> `01 0C`          | **custom**

Последнее поле - вложения (`attachments`) - тоже хранится [как у записи.](README.md#вложения)

[^1]: Инициатор - объект, вызвавший данное действие<br>
      **Спец. значения:** `system` - вызвано системой<br>
      `generator` - вызвано генератором файла
